/* ===========================
   AutoAI – UI polish (v2)
   =========================== */

:root{
  --bg-1:#0c1421;
  --bg-2:#0a1a2b;
  --panel:#111b2e;
  --panel-2:#0f1a2e;
  --text:#e7eef9;
  --muted:#a9b7cf;
  --line:#20324d;

  --green-1:#19c37d;
  --green-2:#11a06a;

  --blue-1:#4e73ff;
  --blue-2:#6b3df5;

  --red-1:#ef476f;

  --shadow: 0 8px 30px rgba(0,0,0,.35);
  --radius: 16px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  color:var(--text);
  background: radial-gradient(1200px 700px at 10% -20%, #18314a 0%, rgba(10, 26, 43, 0) 60%) , linear-gradient(180deg,var(--bg-1),var(--bg-2));
  font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
}

/* --- layout --- */
.container{
  max-width: 1200px;
  padding: 28px 18px 48px;
  margin: 0 auto;
}

h1{
  text-align:center;
  margin: 0 0 20px;
  font-size: clamp(28px, 3vw, 42px);
  letter-spacing:.3px;
  color:#9be0b9;
  text-shadow: 0 2px 18px rgba(25,195,125,.15);
}

.chat-and-button{
  display:grid;
  grid-template-columns: minmax(0, 1fr) 360px;
  gap: 20px;
}

/* --- chat column --- */
.chat-window{
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.015));
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 14px 14px 6px;
  max-height: calc(100vh - 260px);
  overflow:auto;
}

/* bubbles */
.user-msg, .bot-msg{
  background: var(--panel);
  border:1px solid var(--line);
  border-radius: 14px;
  padding: 10px 12px;
  margin: 10px 6px;
  line-height: 1.32; /* compact */
}
.user-msg{ background: #16243a; }
.bot-msg{  background: #122238; }

.user-msg strong, .bot-msg strong{
  display:block;
  color:#9bd0ff;
  margin-bottom:4px;
}

/* markdown – compact */
.chat-window p{ margin: 4px 0; }
.chat-window ul{ margin: 6px 0 6px 18px; padding:0; }
.chat-window li{ margin: 3px 0; }
.chat-window a{ color:#8bc8ff; text-decoration: underline; }
.chat-window em{ color:#c7d6ef; }

/* typing indicator */
.typing-indicator{ display:flex; gap:8px; align-items:center; }
.dots{ display:inline-flex; gap:4px; margin-left:6px; }
.dots span{ width:6px; height:6px; border-radius:50%; background:#8bb4ff; opacity:.35; animation:bounce 1.4s infinite; }
.dots span:nth-child(2){ animation-delay:.2s; }
.dots span:nth-child(3){ animation-delay:.4s; }
@keyframes bounce{
  0%,60%,100%{ transform:translateY(0); opacity:.35; }
  30%{ transform:translateY(-5px); opacity:.95; }
}

/* --- right rail cards --- */
.right-rail{
  display:flex; flex-direction:column; gap:14px;
}
.cta-card{
  background: var(--panel-2);
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:14px 16px;
}
.cta-title{
  font-weight:700;
  margin: 2px 0 8px;
  color:#cfe6ff;
}
.cta-desc{ color:var(--muted); }
.cta-desc p{ margin:6px 0; }
.cta-desc ul{ margin:6px 0 8px 18px; padding:0; }
.cta-desc li{ margin:4px 0; line-height:1.35; }
.cta-note{ color:#b7c6dd; font-size:14px; margin-top:6px; }

.cta-actions{ display:flex; gap:10px; margin-top:10px; }

/* buttons */
.garage-button, .carter-button{
  display:inline-flex; align-items:center; justify-content:center;
  min-height:44px; padding: 10px 16px;
  border-radius: 12px;
  font-weight:700; text-decoration:none;
  transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
  border:0;
}
.garage-button{
  background: linear-gradient(180deg, var(--green-1), var(--green-2));
  color:#062016;
  box-shadow: 0 6px 22px rgba(25,195,125,.25);
}
.carter-button{
  background: linear-gradient(90deg, var(--blue-2), var(--blue-1));
  color:#f1f5ff;
  box-shadow: 0 6px 22px rgba(100, 84, 240, .3);
}
.garage-button:hover, .carter-button:hover{ filter:brightness(1.06); transform: translateY(-1px); }
.garage-button:active, .carter-button:active{ transform: translateY(0); }

/* inline CTAs (sous la bulle) */
.inline-ctas{
  display:flex; gap:12px; justify-content:center;
  margin: 14px auto 10px;
}
.inline-ctas .garage-button, .inline-ctas .carter-button{
  min-width: 240px;
}

/* form */
.chat-form{
  display:flex; gap:10px; align-items:center;
  margin-top:10px;
}
.chat-form input{
  flex:1; min-height:46px;
  border-radius: 12px;
  border:1px solid var(--line);
  background:#0e1b2e;
  color:var(--text);
  padding: 10px 14px;
  outline:none;
}
.chat-form input:focus{ border-color:#2e4a74; box-shadow: 0 0 0 2px rgba(78,115,255,.15); }
.chat-form button{
  min-width:120px; min-height:46px;
  border-radius: 12px; border:0; cursor:pointer;
  font-weight:700;
  background: linear-gradient(180deg, var(--green-1), var(--green-2));
  color:#062016; box-shadow: 0 8px 24px rgba(25,195,125,.25);
}
.chat-form button:disabled{ opacity:.6; cursor:not-allowed; }

.error-msg{ color: var(--red-1); margin:8px 0 0 2px; }

.footer{
  text-align:center; font-size:13px; color:#9fb2cf;
  margin: 10px 0 20px;
}

/* subtle pulse for highlighted cards */
.pulse-card{
  animation:pulseCard 1.8s ease-out 2;
}
@keyframes pulseCard{
  0%{ box-shadow: 0 0 0 0 rgba(78,115,255,.28); }
  70%{ box-shadow: 0 0 0 10px rgba(78,115,255,0); }
  100%{ box-shadow: 0 0 0 0 rgba(78,115,255,0); }
}

/* responsive */
@media (max-width: 1080px){
  .chat-and-button{ grid-template-columns: 1fr; }
  .right-rail{ order: 2; }
  .chat-window{ order: 1; max-height: none; }
  .inline-ctas{ flex-wrap:wrap; }
}

/* accessibility / selection */
::selection{ background:#204a75; color:#fff; }
/* === HOTFIX: confort sur écrans larges === */
.container{ max-width: 1280px; }

.chat-and-button{
  grid-template-columns: minmax(0, 1fr) 400px; /* rail droit un peu plus large */
}

.inline-ctas .garage-button,
.inline-ctas .carter-button{
  min-width: 280px; /* CTAs plus “présents” */
}

/* Step-up progressif de la taille texte + largeur page */
@media (min-width: 1440px){
  body{ font-size: 17px; }
  .container{ max-width: 1320px; }
}

@media (min-width: 1680px){
  body{ font-size: 18px; }
  .container{ max-width: 1400px; }
  .chat-and-button{ grid-template-columns: minmax(0, 1fr) 420px; }
}

@media (min-width: 1920px){
  body{ font-size: 19px; }
  .container{ max-width: 1500px; }
  .chat-and-button{ grid-template-columns: minmax(0, 1fr) 440px; }
  .right-rail{ gap: 16px; }
}

/* Bonus: évite que le chat paraisse tassé si la fenêtre est très haute */
.chat-window{
  max-height: calc(100vh - 220px);
}

